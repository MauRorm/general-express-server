import{r as P,s as L,C as A,j as k,B as D,v as R,w as T,D as U,H as q}from"./index-CvkUPu6K.js";var O=function(d,s){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,i){u.__proto__=i}||function(u,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(u[l]=i[l])},O(d,s)};function F(d,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");O(d,s);function u(){this.constructor=d}d.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}var W=function(){return W=Object.assign||function(s){for(var u,i=1,l=arguments.length;i<l;i++){u=arguments[i];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(s[h]=u[h])}return s},W.apply(this,arguments)};var x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function E(d,s){return d(s={exports:{}},s.exports),s.exports}var _=E(function(d,s){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function i(){var l=this;this.locked=new Map,this.addToLocked=function(h,v){var S=l.locked.get(h);S===void 0?v===void 0?l.locked.set(h,[]):l.locked.set(h,[v]):v!==void 0&&(S.unshift(v),l.locked.set(h,S))},this.isLocked=function(h){return l.locked.has(h)},this.lock=function(h){return new Promise(function(v,S){l.isLocked(h)?l.addToLocked(h,v):(l.addToLocked(h),v())})},this.unlock=function(h){var v=l.locked.get(h);if(v!==void 0&&v.length!==0){var S=v.pop();l.locked.set(h,v),S!==void 0&&setTimeout(S,0)}else l.locked.delete(h)}}return i.getInstance=function(){return i.instance===void 0&&(i.instance=new i),i.instance},i}();s.default=function(){return u.getInstance()}});j(_);var H=j(E(function(d,s){var u=x&&x.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,p){function c(w){try{y(a.next(w))}catch(o){p(o)}}function g(w){try{y(a.throw(w))}catch(o){p(o)}}function y(w){w.done?r(w.value):new n(function(o){o(w.value)}).then(c,g)}y((a=a.apply(e,t||[])).next())})},i=x&&x.__generator||function(e,t){var n,a,r,p,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(y){return function(w){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,a=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(r=c.trys,!((r=r.length>0&&r[r.length-1])||o[0]!==6&&o[0]!==2)){c=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(o[0]===6&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(C){o=[6,C],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([y,w])}}},l=x;Object.defineProperty(s,"__esModule",{value:!0});var h="browser-tabs-lock-key",v={key:function(e){return u(l,void 0,void 0,function(){return i(this,function(t){throw new Error("Unsupported")})})},getItem:function(e){return u(l,void 0,void 0,function(){return i(this,function(t){throw new Error("Unsupported")})})},clear:function(){return u(l,void 0,void 0,function(){return i(this,function(e){return[2,window.localStorage.clear()]})})},removeItem:function(e){return u(l,void 0,void 0,function(){return i(this,function(t){throw new Error("Unsupported")})})},setItem:function(e,t){return u(l,void 0,void 0,function(){return i(this,function(n){throw new Error("Unsupported")})})},keySync:function(e){return window.localStorage.key(e)},getItemSync:function(e){return window.localStorage.getItem(e)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(e){return window.localStorage.removeItem(e)},setItemSync:function(e,t){return window.localStorage.setItem(e,t)}};function S(e){return new Promise(function(t){return setTimeout(t,e)})}function f(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",a=0;a<e;a++)n+=t[Math.floor(Math.random()*t.length)];return n}var m=function(){function e(t){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+f(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=t,e.waiters===void 0&&(e.waiters=[])}return e.prototype.acquireLock=function(t,n){return n===void 0&&(n=5e3),u(this,void 0,void 0,function(){var a,r,p,c,g,y,w;return i(this,function(o){switch(o.label){case 0:a=Date.now()+f(4),r=Date.now()+n,p=h+"-"+t,c=this.storageHandler===void 0?v:this.storageHandler,o.label=1;case 1:return Date.now()<r?[4,S(30)]:[3,8];case 2:return o.sent(),c.getItemSync(p)!==null?[3,5]:(g=this.id+"-"+t+"-"+a,[4,S(Math.floor(25*Math.random()))]);case 3:return o.sent(),c.setItemSync(p,JSON.stringify({id:this.id,iat:a,timeoutKey:g,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,S(30)];case 4:return o.sent(),(y=c.getItemSync(p))!==null&&(w=JSON.parse(y)).id===this.id&&w.iat===a?(this.acquiredIatSet.add(a),this.refreshLockWhileAcquired(p,a),[2,!0]):[3,7];case 5:return e.lockCorrector(this.storageHandler===void 0?v:this.storageHandler),[4,this.waitForSomethingToChange(r)];case 6:o.sent(),o.label=7;case 7:return a=Date.now()+f(4),[3,1];case 8:return[2,!1]}})})},e.prototype.refreshLockWhileAcquired=function(t,n){return u(this,void 0,void 0,function(){var a=this;return i(this,function(r){return setTimeout(function(){return u(a,void 0,void 0,function(){var p,c,g;return i(this,function(y){switch(y.label){case 0:return[4,_.default().lock(n)];case 1:return y.sent(),this.acquiredIatSet.has(n)?(p=this.storageHandler===void 0?v:this.storageHandler,(c=p.getItemSync(t))===null?(_.default().unlock(n),[2]):((g=JSON.parse(c)).timeRefreshed=Date.now(),p.setItemSync(t,JSON.stringify(g)),_.default().unlock(n),this.refreshLockWhileAcquired(t,n),[2])):(_.default().unlock(n),[2])}})})},1e3),[2]})})},e.prototype.waitForSomethingToChange=function(t){return u(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,new Promise(function(a){var r=!1,p=Date.now(),c=!1;function g(){if(c||(window.removeEventListener("storage",g),e.removeFromWaiting(g),clearTimeout(y),c=!0),!r){r=!0;var w=50-(Date.now()-p);w>0?setTimeout(a,w):a(null)}}window.addEventListener("storage",g),e.addToWaiting(g);var y=setTimeout(g,Math.max(0,t-Date.now()))})];case 1:return n.sent(),[2]}})})},e.addToWaiting=function(t){this.removeFromWaiting(t),e.waiters!==void 0&&e.waiters.push(t)},e.removeFromWaiting=function(t){e.waiters!==void 0&&(e.waiters=e.waiters.filter(function(n){return n!==t}))},e.notifyWaiters=function(){e.waiters!==void 0&&e.waiters.slice().forEach(function(t){return t()})},e.prototype.releaseLock=function(t){return u(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,n.sent()]}})})},e.prototype.releaseLock__private__=function(t){return u(this,void 0,void 0,function(){var n,a,r,p;return i(this,function(c){switch(c.label){case 0:return n=this.storageHandler===void 0?v:this.storageHandler,a=h+"-"+t,(r=n.getItemSync(a))===null?[2]:(p=JSON.parse(r)).id!==this.id?[3,2]:[4,_.default().lock(p.iat)];case 1:c.sent(),this.acquiredIatSet.delete(p.iat),n.removeItemSync(a),_.default().unlock(p.iat),e.notifyWaiters(),c.label=2;case 2:return[2]}})})},e.lockCorrector=function(t){for(var n=Date.now()-5e3,a=t,r=[],p=0;;){var c=a.keySync(p);if(c===null)break;r.push(c),p++}for(var g=!1,y=0;y<r.length;y++){var w=r[y];if(w.includes(h)){var o=a.getItemSync(w);if(o!==null){var C=JSON.parse(o);(C.timeRefreshed===void 0&&C.timeAcquired<n||C.timeRefreshed!==void 0&&C.timeRefreshed<n)&&(a.removeItemSync(w),g=!0)}}}g&&e.notifyWaiters()},e.waiters=void 0,e}();s.default=m})),I=E(function(d,s){var u=x&&x.__assign||function(){return u=Object.assign||function(f){for(var m,e=1,t=arguments.length;e<t;e++)for(var n in m=arguments[e])Object.prototype.hasOwnProperty.call(m,n)&&(f[n]=m[n]);return f},u.apply(this,arguments)};function i(f,m){if(!m)return"";var e="; "+f;return m===!0?e:e+"="+m}function l(f,m,e){return encodeURIComponent(f).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(m).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if(typeof t.expires=="number"){var n=new Date;n.setMilliseconds(n.getMilliseconds()+864e5*t.expires),t.expires=n}return i("Expires",t.expires?t.expires.toUTCString():"")+i("Domain",t.domain)+i("Path",t.path)+i("Secure",t.secure)+i("SameSite",t.sameSite)}(e)}function h(f){for(var m={},e=f?f.split("; "):[],t=/(%[\dA-F]{2})+/gi,n=0;n<e.length;n++){var a=e[n].split("="),r=a.slice(1).join("=");r.charAt(0)==='"'&&(r=r.slice(1,-1));try{m[a[0].replace(t,decodeURIComponent)]=r.replace(t,decodeURIComponent)}catch{}}return m}function v(){return h(document.cookie)}function S(f,m,e){document.cookie=l(f,m,u({path:"/"},e))}s.__esModule=!0,s.encode=l,s.parse=h,s.getAll=v,s.get=function(f){return v()[f]},s.set=S,s.remove=function(f,m){S(f,"",u(u({},m),{expires:-1}))}});j(I),I.encode,I.parse,I.getAll;I.get;I.set;I.remove;new H;var M={isAuthenticated:!1,isLoading:!0},b=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},N=W(W({},M),{buildAuthorizeUrl:b,buildLogoutUrl:b,getAccessTokenSilently:b,getAccessTokenWithPopup:b,getIdTokenClaims:b,loginWithRedirect:b,loginWithPopup:b,logout:b,handleRedirectCallback:b}),z=P.createContext(N);(function(d){F(s,d);function s(u,i){var l=d.call(this,i||u)||this;return l.error=u,l.error_description=i,Object.setPrototypeOf(l,s.prototype),l}return s})(Error);var B=function(d){return d===void 0&&(d=z),P.useContext(d)};function J(){const{loginWithPopup:d,loginWithRedirect:s}=B(),i=L().get("returnTo"),l=P.useCallback(async()=>{try{await d()}catch(f){console.error(f)}},[d]),h=P.useCallback(async()=>{try{await d({authorizationParams:{screen_hint:"signup"}})}catch(f){console.error(f)}},[d]),v=P.useCallback(async()=>{try{await s({appState:{returnTo:i||A.auth.redirectPath}})}catch(f){console.error(f)}},[s,i]),S=P.useCallback(async()=>{try{await s({appState:{returnTo:i||A.auth.redirectPath},authorizationParams:{screen_hint:"signup"}})}catch(f){console.error(f)}},[s,i]);return k.jsxs(D,{gap:3,display:"flex",flexDirection:"column",children:[k.jsx(R,{variant:"h5",sx:{textAlign:"center"},children:"Sign in to your account 44"}),k.jsx(T,{fullWidth:!0,color:"primary",size:"large",variant:"contained",onClick:v,children:"Sign in with Redirect"}),k.jsx(T,{fullWidth:!0,color:"primary",size:"large",variant:"soft",onClick:S,children:"Sign up with Redirect"}),k.jsx(U,{sx:{borderStyle:"dashed"}}),k.jsx(T,{fullWidth:!0,color:"inherit",size:"large",variant:"contained",onClick:l,children:"Sign in with Popup"}),k.jsx(T,{fullWidth:!0,color:"inherit",size:"large",variant:"soft",onClick:h,children:"Sign up with Popup"})]})}const G={title:`Sign in | Auth0 - ${A.appName}`};function V(){return k.jsxs(k.Fragment,{children:[k.jsx(q,{children:k.jsxs("title",{children:[" ",G.title]})}),k.jsx(J,{})]})}export{V as default};
